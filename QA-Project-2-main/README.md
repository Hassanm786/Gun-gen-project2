# QA-Project-2
# Gun Generator
## Objective
To create a application with four services that work together. Service 1 will render templates and communicate with the other three services. Services 2 and 3 will both generate random objects and service 4 will also create an object but one that is based on the objects generated by service 2 and 3, this application was fully automated using a CI/CD pipeline.
* Kanban board for project tracking
* Git for version control
* Jenkins as a CI server
* Ansible for configuration management
* GCP cloud platform
* Docker as a containerisation tool
* Docker swarm for container orchestration
* NGINX as a reverse proxy

## Project Planning
### Trello Board
When Creating this application i used trello to track and keep of the progress of my work, the reason i used trello is because the service is very good at storing documentation and keeping track of what needs to be done next.
![trello board](https://user-images.githubusercontent.com/101265381/168577011-e9d2b066-9116-45eb-8f4f-68a13368c578.png)
### Risk Assessment
When planning this project a risk assesment was created to identify all potential problems associated as shown in the below image:
![risk-assessment](https://user-images.githubusercontent.com/101265381/168581340-53c8cac7-a992-4620-9406-181625a6e191.png)
### Project Diagram
in the diagram below it shows what is expected and how the application will work once the user interacts with the front end.

![project2-Diagram](https://user-images.githubusercontent.com/101265381/168583455-c51c320b-0451-45c2-a65d-2f202b947cc1.png)

## Infrastructure
#### CICD Pipeline
Continuous Deployment was essential for the project, to allow a smooth and rapid development to build process. The CICD diagram is shown below.

![CICD](https://user-images.githubusercontent.com/101265381/168599502-1ac7f3d4-f179-4945-a3c0-5e717566fc4c.png)

The steps were as follows:

* Tasks that were set up on the trello board were coded, and uploaded to github.
* The Jenkins webhook that is set up, will detect any pushes onto the dev branch, and proceeded to line the pipeline found in the Jenkins file.
* The unit tests were ran first, to ensure that the new code does not break the application.
* The docker images were built and pushed onto dockerhub. Jenkins credentials was used to handle the dockerhub login information.
* Ansible was used to configure the swarm manager and it's workers to be ready for the application deployment.
* The Jenkins VM deployed the stacks onto each VM.

![fully working pipeline](https://user-images.githubusercontent.com/101265381/168599038-82b73ee4-4596-44cf-b394-1386184cb5e4.png)


## App Design
in response to the project i have decided to create a Gun creation app that will randomly generator the gun and perks.

* Front-end - (service1): Service 1 will be getting all the infomation from serice 2, 3 and 4 and displaying it to the user to interact with.![front_end_1_code](https://user-images.githubusercontent.com/101265381/168585170-87d6cc2d-aaa3-4921-8f02-1d7d8130e10f.png)
* Gun-Gen - (service2): Service 2 receives GET requests from service 1 which it will randomly generate a random gun from a selection as shown below.![gun_gen_2_code](https://user-images.githubusercontent.com/101265381/168586024-7bcd2676-5128-435a-baae-1d5bdee9d282.png)
* Get-Perk1 - (service3): service 3 receives GET requests from service 1 which it will randomly generate a random perk from a selection as shown below.![get_perk1_code](https://user-images.githubusercontent.com/101265381/168586582-c91c1b3f-8096-4485-b2d4-5fac063b691c.png)
* Get-Perk2 - (service4): service 4 recieves a POST request from service 1, which it will randomly generate another perk and effect for the gun, which it will then combine the infomation as shown below.![get_perk2_code](https://user-images.githubusercontent.com/101265381/168587031-450f95ba-8489-4aa4-a78c-f4bc154d5c9e.png)
* after the combination of the 4 services you come to this screen.![working program](https://user-images.githubusercontent.com/101265381/168592519-cb0425fa-f1c8-4628-a31f-06a05e85bb08.png)

on the image shown above is the front-end screen (service1) on this screen it will show the combination of the gun and perks you will also have a button next to it where the user can genrate many more weapons.

## Testing
Testing is used to ensure the back-end of my application was functional, Assertions were used to ensure that the correct output was being produced, and requests / requests_mock was used to simulate the interaction of the services. after doing these tests manually through pytests, the tests are then run automatically after through Jenkins. Jenkins will then print out the results of each tests whether it was successful or failed, and at the end of the test it will print a full covarage report of the percentage that was tested.
![2022-05-10 16_32_20-test sh - QA-Project-2  SSH_ example  - Visual Studio Code](https://user-images.githubusercontent.com/101265381/168593503-7519eb50-4dce-494c-9a1b-245ec80a1e71.png)
Service 1 Testing ^
![gun_gen2_test](https://user-images.githubusercontent.com/101265381/168593545-ea63ab5c-cb59-472a-be3d-a9e8d1241b00.png)
Service 2 Testing ^
![perk_one_test](https://user-images.githubusercontent.com/101265381/168593611-76f71b0f-e1f2-4e60-b6e3-7873572478e3.png)
Service 3 Testing ^
![perk_two_test](https://user-images.githubusercontent.com/101265381/168593670-e930b8af-1d16-4f0c-9265-6f7b1860de9f.png)
Service 4 Testing ^

![jenkins_test_unit1](https://user-images.githubusercontent.com/101265381/168593821-72ac209f-29ff-464b-bbf7-2e62cdf586c7.png)
![jenkins_test_unit2](https://user-images.githubusercontent.com/101265381/168593842-ed4c3a7c-1c82-4ac4-95d3-64c9b7d175fe.png)
![jenkins_test_unit3](https://user-images.githubusercontent.com/101265381/168593850-3b943e76-3fea-4b3b-b5ff-73b9bb98357b.png)
![jenkins_test_unit4](https://user-images.githubusercontent.com/101265381/168593854-6f17425c-5b52-41be-aeea-a841c2d8d907.png)

as you can see in the above images of the Jenkins automated pipe line i was able to achieve 97% covarage in all tests.

## Future Improvements
The main improvement that i would like to implement would be having a working database so users can see all the weapons they have created instead of losing the one they previously had by generating a new one.
## Acknowledgements
Many thanks to Victoria Sacre for helping me to this stage to be able to complete my own project and helping with any errors that have happened also want to say a thank you to Harry Volker, Leon Robinson, Adam Grey and the rest of 22marenabled1 Cohort..
## Author
### Tony Zherka

